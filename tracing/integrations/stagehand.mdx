---
title: "Observability for Stagehand"
sidebarTitle: Stagehand
---

## Overview

[Stagehand](https://github.com/browserbase/stagehand) is an AI-native framework for building browser agents in JavaScript.

Stagehand is designed to be a seamless extension of Playwright, and in particular, its Page API.

Thanks to Laminar's native integration with Playwright, you can trace your Stagehand agents with ease.

## Usage

### Complete example

```javascript {2, 4-9, 32}
import { Stagehand } from '@browserbase/stagehand';
import { Laminar } from '@lmnr-ai/lmnr';
import { z } from 'zod';

Laminar.initialize({
  projectApiKey: process.env.LMNR_API_KEY,
  instrumentModules: {
    stagehand: Stagehand,
  },
});

const main = async () => {
  const stagehand = new Stagehand();
  await stagehand.init({
    modelName: 'gpt-4.1-mini',
    modelClientOptions: {
      apiKey: process.env.OPENAI_API_KEY,
    },
  });
  const page = stagehand.page;
  await page.goto('https://www.lmnr.ai');
  await page.act('go to Laminar blogs page');
  const blogPosts = await page.extract({
    instruction: "get the blog posts",
    schema: z.object({
      posts: z.array(z.object({
        title: z.string(),
        date: z.date(),
      }))
    })
  });
  await stagehand.close();
  await Laminar.flush();
  return blogPosts;
};

main().then(console.log).catch(console.error);
```

### Step-by-step guide

<Steps>
<Step title="Start with Stagehand Browser quickstart">

```sh
npx create-browser-app@latest
```

Choose "Yes" when prompted to start with a quickstart app and follow other instructions.

Finally go to the newly created directory and install dependencies.

```sh
cd YOUR_APP_NAME
npm install
```

</Step>
<Step title="Install Laminar">

```sh
npm install @lmnr-ai/lmnr
```

</Step>
<Step title="Initialize Laminar">

First, we need to initialize Laminar and pass the Stagehand module to `instrumentModules`.

```javascript
import { Stagehand } from '@browserbase/stagehand';
import { Laminar } from '@lmnr-ai/lmnr';

Laminar.initialize({
  projectApiKey: process.env.LMNR_API_KEY,
  instrumentModules: {
    stagehand: Stagehand,
  },
});
```

</Step>
<Step title="Finalizing Stagehand traces">

In order to finalize Stagehand traces, make sure to call `stagehand.close()` and `Laminar.flush()`.

```javascript
await stagehand.close(); // closes the browser and the parent span
await Laminar.flush(); // sends any remaining spans to Laminar
```

</Step>
</Steps>


## Example result

<Frame caption="An example trace for page.act('go to Laminar blogs page')">
<img width="600" src="/images/traces/stagehand.png" alt="Stagehand example" />
</Frame>
