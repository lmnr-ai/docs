---
title: SDK Initialization
description: Initialize Laminar tracing, manage lifecycle, and configure tracing level.
---

# SDK Initialization

Initialize Laminar tracing, manage lifecycle, and configure tracing level.

## Initialization

## Laminar.initialize()

Initialize Laminar tracing. Call once at application startup.

```python
from lmnr import Laminar

Laminar.initialize(project_api_key="your-key")
```

**Parameters:**

| Name | Type | Default | Description |
|------|------|---------|-------------|
| `project_api_key` | `str` | `LMNR_PROJECT_API_KEY` env | Project API key |
| `base_url` | `str` | `https://api.lmnr.ai` | API base URL |
| `base_http_url` | `str` | `base_url` | HTTP endpoint override |
| `http_port` | `int` | `443` | HTTP port |
| `grpc_port` | `int` | `8443` | gRPC port |
| `instruments` | `set[Instruments]` | All | Instrumentations to enable |
| `disabled_instruments` | `set[Instruments]` | `None` | Instrumentations to disable |
| `disable_batch` | `bool` | `False` | Send spans immediately |
| `max_export_batch_size` | `int` | `64` | Max spans per batch |
| `export_timeout_seconds` | `int` | `30` | Export timeout |
| `set_global_tracer_provider` | `bool` | `True` | Register as global OTEL provider |
| `otel_logger_level` | `int` | `logging.ERROR` | OpenTelemetry log level |
| `session_recording_options` | `SessionRecordingOptions` | `None` | Browser session recording config |
| `force_http` | `bool` | `False` | Use OTLP/HTTP instead of gRPC |

**Environment variables:**
- `LMNR_PROJECT_API_KEY` — Fallback for `project_api_key`
- `LMNR_BASE_URL` — Fallback for `base_url`
- `LMNR_SPAN_CONTEXT` — Attach to upstream trace context
- `OTEL_EXPORTER_OTLP_TRACES_ENDPOINT`, `OTEL_EXPORTER_OTLP_ENDPOINT` — OTEL endpoint overrides

**Note:** Re-calling `initialize()` is a no-op.

### Laminar.is_initialized()

Check whether Laminar has been initialized.

**Returns:** `bool`

---

## Lifecycle

### Laminar.flush()

Flush buffered spans (best-effort). The actual send happens in a background thread, so spans may not be sent before process exit.

**Returns:** `None`

### Laminar.force_flush()

Flush spans and reinitialize the pipeline. Blocks until spans are sent. Use in serverless functions where the process may terminate immediately after.

**Returns:** `None`

```python
def handler(event, context):
    # Your logic here
    result = process_event(event)
    
    Laminar.force_flush()  # Blocks until spans are sent
    return result
```

### Laminar.shutdown()

Flush all pending spans and shut down the tracing pipeline. Call during graceful shutdown.

**Returns:** `None`

**Note:** Unlike TypeScript, you cannot re-initialize after calling `shutdown()`.

### Laminar.get_base_http_url()

Return the configured OTLP HTTP URL.

**Returns:** `str`

### Laminar.get_project_api_key()

Return the configured project API key.

**Returns:** `str | None`

---

## Tracing Level

### Laminar.set_tracing_level(level)

Context manager to override tracing level temporarily. Useful for sensitive operations where you need trace structure but can't capture content.

```python
from lmnr import Laminar, TracingLevel

with Laminar.set_tracing_level(TracingLevel.META_ONLY):
    # Inputs and outputs not recorded
    handle_sensitive_data(user_data)

# Normal tracing resumes here
```

**Parameters:**

| Name | Type | Description |
|------|------|-------------|
| `level` | `TracingLevel` | `OFF`, `META_ONLY`, or `ALL` |

### TracingLevel

Enum controlling what data is captured:

| Value | Description |
|-------|-------------|
| `ALL` | Everything—inputs, outputs, attributes (default) |
| `META_ONLY` | Structure and timing, but no inputs or outputs |
| `OFF` | Disable tracing entirely |
